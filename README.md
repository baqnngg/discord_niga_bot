# 주식 & 음악 디스코드 봇

디스코드 서버에서 친구들과 함께 가상 주식 투자를 하고 음악을 들을 수 있는 다기능 봇입니다.

## 🎵 주요 기능

### 💹 주식 기능
- **실시간(?) 가격 변동**: 1분마다 모든 주식의 가격이 랜덤하게 변동됩니다.
- **매수/매도**: `!주식구매`, `!주식판매` 명령어로 주식을 사고팔 수 있습니다. (`all` 옵션 지원)
- **자산 관리**: `!내자산` 명령어로 현재 보유 현금, 주식, 총 자산 및 수익률을 확인할 수 있습니다.
- **랭킹 시스템**: `!랭킹` 명령어로 서버 내 자산 순위를 확인할 수 있습니다.
- **일일 보상**: `!출석` 명령어로 하루에 한 번 게임 머니를 받을 수 있습니다.

### 🎶 음악 기능
- **유튜브 재생**: `!불러봐` 또는 `!p` 명령어로 유튜브 노래를 검색하고 재생할 수 있습니다.
- **상세 검색**: `!검색` 명령어로 상위 5개 검색 결과를 보고 번호로 선택하여 재생할 수 있습니다.
- **재생 제어**: `!스킵`, `!일시정지`, `!재개`, `!나가` 등 필수 제어 기능을 지원합니다.
- **대기열 관리**: `!대기열`(`!q`)로 재생 목록을 확인할 수 있습니다.
- **반복 재생**: `!반복`(전체), `!한곡반복` 기능을 지원합니다.

### 🎲 기타 기능
- **제비뽑기**: `!제비뽑기` 명령어로 여러 명 중 한 명을 랜덤으로 뽑습니다.
- **도움말**: `!도움말`로 모든 명령어를 확인할 수 있습니다.

---

## 🛠️ 설치 및 실행 방법

### 1. 사전 준비물
- **Python 3.8 이상**: [python.org](https://www.python.org/downloads/)
- **FFmpeg**: 음악 재생에 필수적인 프로그램입니다.
  - [FFmpeg 공식 홈페이지](https://www.ffmpeg.org/download.html)에서 다운로드 후, 시스템 환경 변수 `Path`에 `ffmpeg.exe`가 있는 `bin` 폴더 경로를 추가해야 합니다.

### 2. 프로젝트 설정
1.  이 프로젝트를 다운로드하거나 Git으로 복제(clone)합니다.
    ```bash
    git clone https://github.com/YourUsername/YourRepoName.git
    cd YourRepoName
    ```

2.  필요한 파이썬 라이브러리를 설치합니다.
    ```bash
    pip install -r requirements.txt
    ```

3.  `.env` 파일을 생성하고 디스코드 봇 토큰을 입력합니다.
    - 프로젝트 최상위 폴더에 `.env` 파일을 만드세요.
    - 아래 내용을 복사하여 붙여넣고, `YOUR_DISCORD_BOT_TOKEN` 부분을 실제 봇 토큰으로 교체하세요.
    ```env
    DISCORD_TOKEN="YOUR_DISCORD_BOT_TOKEN"
    ```

### 3. 봇 실행
- 터미널에서 아래 명령어를 입력하여 봇을 실행합니다.
    ```bash
    python bot.py
    ```
- 봇이 성공적으로 온라인되면 터미널에 "봇이 준비되었습니다"라는 메시지가 표시됩니다.

---

## 📁 파일 구조
- **`bot.py`**: 봇의 메인 실행 파일. Cog 로드, 이벤트 처리, 기본 설정 담당.
- **`music.py`**: 음악 기능과 관련된 모든 명령어와 로직을 담고 있는 Cog.
- **`stock.py`**: 주식 기능과 관련된 모든 데이터 처리 및 로직을 담고 있는 모듈.
- **`stocks.json`**: 현재 주식 가격 데이터가 저장되는 파일.
- **`users.json`**: 모든 유저의 자산(현금, 주식) 데이터가 저장되는 파일.
- **`.env`**: 디스코드 봇 토큰 등 민감한 정보를 저장하는 파일.
- **`requirements.txt`**: 프로젝트에 필요한 파이썬 라이브러리 목록.

---

## 🔧 `requirements.txt`
프로젝트 실행에 필요한 라이브러리 목록입니다. 아래 내용으로 `requirements.txt` 파일을 생성하세요.

```txt
discord.py
python-dotenv
yt-dlp
PyNaCl
```